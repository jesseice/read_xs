"use strict";const e=require("../../common/vendor.js"),o=require("../../api/sign.js");require("../../api/request.js");const n=e.defineComponent({__name:"index",setup(n){const s=e.ref({}),i=async()=>{console.log(22222222222);const e=await o.getSign();console.log("res",e),s.value=e.data},t=()=>{e.index.login({provider:"weixin",onlyAuthorize:!0,success:function(o){console.log(o);const{code:n}=o;e.index.request({url:"https://api.weixin.qq.com/sns/jscode2session",data:{code:n},success:o=>{console.log("res",o),e.index.setStorageSync("token",o.token)}})},fail:function(e){console.log("err",e)}})};return(o,n)=>({a:e.t(s.value.sign),b:e.o(i),c:e.o(t)})}});wx.createPage(n);
